:stylesheet: ./asset/asciidoctor_autonics.css
:doctype: book
:sectnums:
//넘버링 각 문서 시작에 써야 개별 문서 프리뷰에서 적용

:xrefstyle: full
:chapter-refsig:
:section-refsig:
:appendix-refsig:
//상호참조 넘버링, chapter, section, appendix 이름 설정, 커스텀 네이밍 아직 지원 안됨 (예정)

:hardbreaks:
//자동 줄바꿈 각 문서 시작에 써야 개별 문서 프리뷰에서 적용
:table-caption!:
:table-number!:
//테이블 타이틀 앞 글자 + 숫자 (Table 1.) 없애기
:experimental:
//실험 기능 확장

:example-caption!:
:example-number!:
//==== block 앞 글자(example) + 숫자 (1.) 없애기
:figure-caption!:
:stem: latexmath

//목차 설정
:toclevels: 5
:toc-title: Contents
:toc: left

//이미지 크기
:10: pdfwidth=10%, width=10%
:20: pdfwidth=20%, width=20%
:30: pdfwidth=30%, width=30%
:40: pdfwidth=40%, width=40%
:50: pdfwidth=50%, width=50%
:60: pdfwidth=60%, width=60%
:70: pdfwidth=70%, width=70%
:80: pdfwidth=80%, width=80%
:90: pdfwidth=90%, width=90%
:100: pdfwidth=100%, width=100%


//아이콘
:icon_width: width=20pt
:icon_pdfwidth: pdfwidth=7pt
:icon_dir: image:images

:연결: {icon_dir}\@연결.svg[{icon_width}, {icon_pdfwidth}]

:i_plus: {icon_dir}\@plus.svg[{icon_width}, {icon_pdfwidth}]
:i_del: {icon_dir}\@del.svg[{icon_width}, {icon_pdfwidth}]
:i_search: {icon_dir}\@search.svg[{icon_width}, {icon_pdfwidth}]
:i_edit: {icon_dir}\@edit.svg[{icon_width}, {icon_pdfwidth}]
:i_rename: {icon_dir}\@rename.svg[{icon_width}, {icon_pdfwidth}]
:i_iPlus: {icon_dir}\@iPlus.svg[{icon_width}, {icon_pdfwidth}]
:i_sPlus: {icon_dir}\@sPlus.svg[{icon_width}, {icon_pdfwidth}]
:i_pPlus: {icon_dir}\@pPlus.svg[{icon_width}, {icon_pdfwidth}]
:i_tBinding: {icon_dir}\@tBinding.svg[{icon_width}, {icon_pdfwidth}]
:i_topicPlus: {icon_dir}\@topicPlus.svg[{icon_width}, {icon_pdfwidth}]
:i_trans: {icon_dir}\@trans.svg[{icon_width}, {icon_pdfwidth}]
:i_docPlus: {icon_dir}\@docPlus.svg[{icon_width}, {icon_pdfwidth}]



= 네트워크 설정

[#link_communication]
== 통신 드라이버
통신 드라이버를 설정하여 외부 장치와 통신할 수 있습니다.
통신 드라이버 설정은 menu:기능 & 설정[통신 드라이버] 에서 할 수 있습니다. **통신 드라이버** 를 클릭하면 *통신 드라이버 설정창* 이 나타납니다. 통신 장치와 스테이션 ID를 트리 구조로 확인할 수 있으며, 통신 장치와 인터페이스를 추가, 확인, 수정, 삭제할 수 있습니다.

image::images\21-10-12-1634006209.png[{70}]

<<<

[discrete]
=== 1. 통신 장치 추가

제조사별 추가 가능한 통신 장치 목록이 Serial/Ethernet 타입으로 나뉘어 표시됩니다. 추가할 통신 장치를 선택하면 해당 장치의 형태와 설명을 확인할 수 있습니다. 통신 장치를 선택하고 btn:[다음] 을 클릭하면 '통신 장치 추가' 설정창으로 이동합니다.


[#addDevice]
[discrete]
==== 통신 장치 추가 창

image::images\21-10-13-1634079794.png[{70}]

[horizontal]
제조사 명::: 해당 제조사의 추가 가능한 통신 장치 목록을 표시합니다.
통신 장치 명::: 해당 장치의 형태와 설명을 표시합니다.
Serial::: 시리얼 타입 통신 장치 목록을 표시합니다.
Ethernet::: 이더넷 타입 통신 장치 목록을 표시합니다.
{i_search} 이름으로 검색::: 입력 값으로 디바이스를 검색합니다. 임의의 값을 입력하면 그 값을 포함하는 디바이스를 검색할 수 있습니다.
*설정 범위:* 문자, 숫자, 특수 문자
다음::: 통신 장치를 선택 후 클릭하면 해당 통신 장치의 '통신 장치 추가 설정' 창으로 이동합니다.



<<<

[discrete]
==== 통신 장치 추가 설정 창

image::images\21-10-13-1634079832.png[{70}]

[horizontal]
스테이션 이름::: 스테이션 이름을 입력할 수 있습니다.
ID::: 스테이션 아이디를 입력할 수 있습니다.
통신 인터페이스:::
+
--
[horizontal]
{i_edit} 추가:::: 통신 인터페이스를 추가할 수 있는 '통신 인터페이스 추가' 창이 열립니다.
{i_iPlus} 수정:::: 추가한 통신 인터페이스의 설정을 수정할 수 있는 '통신 인터페이스 수정' 창이 열립니다.
--
+
--
[NOTE]
====
통신 인터페이스 설정에 대한 자세한 내용은 *'<<2. 통신 인터페이스 추가>>'* 항목을 확인하십시오.
====
--
+
[horizontal]
이전::: *'<<addDevice>>'* 으로 돌아갑니다.

[NOTE]
====
선택한 장치에 따라 '사용자 정의 프로토콜', '파라미터', '통신 데이터 코드', '네트워크 번호', 'PC 번호', '네트워크 경로', 'Security Mode', 'Security Policies', 'User Authentication', 'User ID/PW', '랙 번호', '슬롯 번호' 등의 항목이 추가로 나타납니다. 자세한 내용은 해당 장치의 기술 자료를 참고하십시오.
====



<<<


[discrete]
=== 2. 통신 인터페이스 추가

[discrete]
==== 통신 종류
통신 타입을 선택합니다. 선택한 통신 타입의 하위 설정 메뉴가 나타납니다. 
*설정 범위:* Serial (초기값), Ethernet


[discrete]
===== Serial
시리얼 타입 통신 인터페이스 항목을 설정합니다.

[horizontal]
포트 종류:: 포트 종류를 설정합니다.
*설정 범위:* RS232 (초기값), RS422, RS485

COM 포트:: COM 포트 번호를 설정합니다.
*설정 범위:* 1 ~ 99 (초기값: 7)

통신 속도:: 통신 속도를 설정합니다.
*설정 범위:* 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200 (초기값) bps

데이터 길이:: 데이터 길이를 설정합니다.
*설정 범위:* 5, 6, 7, 8 (초기값) bit

스탑 비트:: 스탑 비트를 설정합니다.
*설정 범위:* 1 (초기값), 1.5, 2 bit

패리티 비트:: 패리티 비트를 설정합니다.
*설정 범위:* No (초기값), Even, Odd, Space, Mark

흐름 제어:: 흐름 제어 방식을 설정합니다.
*설정 범위:* None (초기값), H/W, S/W

<<<

[horizontal]
통신::
+
[horizontal]
통신 주기::: 통신 주기를 설정합니다.
  *설정 범위:* 10 ~ 9999 msec (초기값: 100)

통신 타임 아웃::: 통신 타임 아웃 시간을 설정합니다.
  *설정 범위:* 100 ~ 9999 msec (초기값: 3000)

연결 재시도 횟수::: 통신 타임 아웃 시 연결을 재시도할 횟수를 설정합니다.
  *설정 범위:* 1, 2, 3 (초기값), 4, 5

데이터 스왑:: 데이터 스왑 방식을 선택합니다.
  *설정 범위:* Byte, Word, DWord (초기값: 전부 미선택)



[discrete]
===== Ethernet
이더넷 타입 통신 인터페이스 항목을 설정합니다.

[horizontal]
포트 종류:: 포트 종류를 설정합니다.
*설정 범위:* TCP, UDP

대상 종류:: 통신 주소 형식을 설정합니다.
*설정 범위:* IP 주소, URL

IP 주소/URL:: '대상 종류' 항목의 설정 값과 일치하는 형식의 주소를 입력합니다.
*IP 주소 설정 범위:* 0.0.0.0 ~ 255.255.255.255

통신::
+
[horizontal]
통신 주기::: 통신 주기를 설정합니다.
  *설정 범위:* 10 ~ 9999 msec (초기값: 100)

통신 타임 아웃::: 통신 타임 아웃 시간을 설정합니다.
  *설정 범위:* 100 ~ 9999 msec (초기값: 3000)

연결 재시도 횟수::: 통신 타임 아웃 시 연결을 재시도할 횟수를 설정합니다.
  *설정 범위:* 1, 2, 3 (초기값), 4, 5

데이터 스왑:: 데이터 스왑 방식을 선택합니다.
  *설정 범위:* Byte, Word, DWord (초기값: 전부 미선택)



<<<


[discrete]
=== 3. 스테이션/인터페이스 수정
수정할 통신 장치/통신 인터페이스 항목을 선택하고 '스테이션/인터페이스 수정' 버튼을 누르면 '통신 장치/통신 인터페이스 수정' 창이 열립니다.

통신 장치와 통신 인터페이스 설정에 대한 자세한 내용은 *'<<1. 통신 장치 추가>>', '<<2. 통신 인터페이스 추가>>'* 항목을 확인하십시오.



[discrete]
=== 4. 스테이션/인터페이스 제거
삭제할 통신 장치/통신 인터페이스 항목을 선택하고 '스테이션/인터페이스 삭제' 버튼을 누르면 선택한 항목이 삭제됩니다.


<<<







[#link_network]
== 네트워크
시스템 종류 (서버, 클라이언트), 동기화, 운행 관련 항목을 설정하여 시스템 이중화 기능을 활성화할 수 있습니다.
네트워크 설정은 menu:기능 & 설정[Network] 에서 할 수 있습니다. **Network** 를 클릭하면 *Network 설정창* 이 나타납니다. 

image::images\21-10-12-1634021293.png[{100}]



[discrete]
=== 1. 연결 설정

[horizontal]
로컬 시스템 종류:: 현재 시스템의 운영 종류를 지정합니다. 운영 종류에 따라 설정 가능한 시스템 종류에 차이가 있습니다.
+
--
.설정 범위와 설정 가능 시스템 종류
* *Stand-Alone (초기값):* 로컬 시스템
* *주 서버:* 로컬 시스템, 타겟 시스템
* *보조 서버:* 로컬 시스템, 타겟 시스템
* *클라이언트:* 타겟 시스템
+
[NOTE]
====
* 로컬 시스템: 현재 작업을 운영할 시스템
* 타겟 시스템: 대상이 되는 시스템
====
--
+
IP:: 로컬 또는 타겟 시스템의 네트워크 주소 (IP) 를 입력합니다.
*설정 범위:* 0.0.0.0 ~ 255.255.255.255


포트:: 로컬 또는 타겟 시스템의 포트 번호를 입력합니다.
*설정 범위:* 1 ~ 65535

데이터 포트:: 로컬과 타겟 시스템 간의 데이터 교환에 사용할 내부 포트 번호를 입력합니다. 
*설정 범위:* 1 ~ 65535 (초기값: 9888)




[discrete]
=== 2. 운행 설정
시스템 운행과 관련된 항목을 설정합니다.

[horizontal]
시간 초과:: 연결 시 접속 시도에 대한 응답을 기다리는 시간을 설정합니다.
*설정 범위:* 50 ~ 9999 ms (초기값: 1000)

재시도 횟수:: '시간 초과' 발생 후 재접속을 시도할 횟수를 설정합니다.
*설정 범위:* 0 ~ 99 회 (초기값: 3)

시스템 시작 시 활성화:: 체크할 경우 주 서버 또는 보조 서버로 시스템이 시작되면 현 시스템을 Active 상태로 활성화 합니다. 상대방 서버가 Active 상태일 경우에는 Stand by 상태로 전환됩니다.
+
* Active: 시스템 이중화 동작중 현재 장비와 통신하고 있는 서버를 말합니다.
* Stand by: Active 상태의 서버가 비정상 종료될 경우 Active 상태로 변경되어 기존 Active 서버의 역할을 대신 수행합니다.


[discrete]
=== 3. 데이터 동기화
데이터를 동기화할 항목을 선택합니다. '모두 선택'을 체크하면 전체 항목을 선택할 수 있습니다.



// 확인:: 네트워크 속성 설정 변경값을 저장하고 창을 닫습니다.
// 취소:: 네트워크 속성 설정 변경값을 저장하지 않고 창을 닫습니다.
// 적용:: 네트워크 속성 설정 변경값을 적용합니다.




<<<




[#link_opc_ua]
== OPC UA
OPC UA는 여러 공급 업체의 다양한 플랫폼 간에 정보 교환과 통합을 위한 산업용 표준 프로토콜입니다. OPC UA 서버 관련 항목을 설정하여 OPC UA 서버를 구동하거나, 클라이언트 관련 항목을 설정하여 OPC UA 서버에 접속할 수 있습니다.
OPC UA 설정은 menu:기능 & 설정[OPC UA] 에서 할 수 있습니다. **OPC UA** 를 클릭하면 *OPC UA 설정창* 이 나타납니다.

image::images\21-10-12-1634025427.png[{100}]



[discrete]
=== 1. 서버 탭
OPC UA 서버 관련 항목을 설정합니다.

[horizontal]
OPC UA 서버 연결 정보::
+
[horizontal]
서버 활성화::: 서버 활성화 여부를 체크합니다. 체크하면 런타임 동작 시에 OPC UA 서버를 실행합니다.

포트::: OPC UA 서버 접속에 사용할 포트 번호를 설정합니다.
*설정 범위:* 1 ~ 65535

보안 모드:: OPC UA 서버의 보안 모드를 체크하여 선택합니다. 적어도 한개 이상의 보안 모드를 체크해야 합니다.
  *설정 범위*: None, Sign (서명), Sign & Encrypt (서명 & 암호화)

보안 정책:: OPC UA 서버의 보안 정책 (메세지 암호화 알고리즘) 을 체크하여 선택합니다.
  *설정 범위:* Basic128Rsa15, Basic256, Basic256Sha256

사용자 인증:: OPC UA 서버의 사용자 인증 정책을 체크하여 선택합니다.
  *설정 범위:* 익명, 사용자 이름/비밀번호

사용자 계정:: SCADAMaster의 사용자 계정 그룹을 OPC UA 서버에 접속 가능한 OPC UA 서버의 사용자 인증 계정 (사용자 아이디, 사용자 비밀번호) 에 등록합니다.
+
[horizontal]
{i_plus} 그룹 선택:::: SCADA 사용자 계정 그룹 선택 창을 엽니다.

{i_del} 그룹 삭제:::: 선택한 SCADA 사용자 계정 그룹을 삭제합니다.



[discrete]
=== 2. 클라이언트 탭
OPC UA 클라이언트 관련 항목을 설정합니다.

[discrete]
==== OPC UA 클라이언트

[horizontal]
스테이션::: *'<<통신 드라이버>>'* 에서 설정한 OPC UA 클라이언트 중 한가지를 선택할 수 있습니다. 스테이션을 선택하면, 해당 정보가 표시되며 연결을 시도합니다.

OPC UA 서버 찾기::: 접속할 OPC UA 서버의 URL 주소와 포트를 입력합니다. 이후 btn:[...] 을 누르면 해당 서버에 접속을 시도합니다. 접속에 성공했을 경우 서버 이름을 자동으로 등록하고 'End Point 선택' 창이 열립니다. End Point를 선택하고 btn:[선택] 을 누르면 아래 '서버' 와 'EndPoint' 항목에 이를 표시합니다.
*입력 형식:* opc.tcp://[IP주소]:[포트번호] (예: opc.tcp://127.0.0.1:52350)
+
[NOTE]
====
서버 URL 주소를 직접 입력하여 접속한 경우 태그 설정이 불가능합니다.
====
+
* *서버:* 'OPC UA 서버 찾기' 항목에서 주소 입력 후 접속한 서버의 이름을 표시합니다.
* *End Point:* 'OPC UA 서버 찾기' 항목에서 선택한 End Point를 표시합니다. 


인증:::
+
* *익명:* 사용자 권한을 익명으로 설정합니다.
* *사용자 이름/비밀번호:* 사용자 권한을 계정 사용으로 설정합니다.
+
** *사용자 이름:* 사용자 계정의 아이디를 입력합니다.
** *비밀번호:* 사용자 계정의 비밀번호를 입력합니다.


연결::: 설정한 정보로 OPC UA 서버에 접속합니다.

[NOTE]
OPC UA 서버 접속 방법에 대한 자세한 내용은 *'<<connect_OPC_UA_cli_to_server>>'* 항목을 참고하십시오. 


[discrete]
==== OPC UA 노드 설정

[horizontal]
노드 태그 설정::: 접속한 OPC UA 서버의 노드 모델 데이터를 표시합니다. 항목을 선택하여 클라이언트의 태그 데이터에 연결 할 수 있습니다. 태그 데이터 연결 방법은 *'<<opcConnectTag>>'* 항목을 참고하십시오.
+
[NOTE]
태그에 대한 자세한 내용은 *'<<linkTag>>'* 항목을 참고하십시오.



[#connect_OPC_UA_cli_to_server]
.OPC UA 클라이언트 서버 접속 방법
====
. menu:기능 & 설정[OPC UA] 의 **OPC UA**를 클릭하여 *OPC UA 설정창* 을 열고 클라이언트 탭을 선택하십시오.

. '스테이션' 항목에서 *'<<link_communication>>'* 에서 설정한 OPC UA 클라이언트를 선택하십시오. OPC UA 서버와의 연결 성공시, 서버 이름이 자동으로 입력되며, 'End Point 선택' 창이 열립니다. 실패할 경우 'Not fount ..' 에러 메시지 팝업창이 표시됩니다.
  image:images\21-10-13-1634091597.png[{50}]

. 'End Point 선택' 창에서 원하는 End Point를 선택하고 btn:[확인]을 클릭하십시오.
  image:images\21-10-13-1634092611.png[{50}]

. '인증' 항목에서 사용자 권한을 '익명'으로 선택하거나 '사용자 이름/비밀번호'를 선택한 뒤 OPC UA 서버에 등록된 사용자 이름과 비밀번호를 입력하십시오.

. btn:[연결] 버튼을 눌러 서버에 접속하십시오. OPC UA 서버와의 End Point 연결 성공 시, 'Connection was successful' 메시지 팝업창이 표시됩니다.
  image:images\21-10-13-1634092635.png[{50}]
====


[#opcConnectTag]
.태그 연결 방법
====
. *'<<connect_OPC_UA_cli_to_server>>'* 항목을 참고하여 서버에 접속하십시오.

. btn:[노드 태그 설정] 을 클릭하여 '노드 태그 설정' 창을 여십시오.

. 매핑할 노드를 선택 후 'Tag' 셀의 btn:[...]을 클릭하면 '태그 에디터' 팝업창이 열립니다.
  image:images\21-10-13-1634092975.png[{50}]

. 바인딩할 태그를 선택 후 btn:[확인]을 클릭하십시오.

====



<<<



[#link_database]
== Database
외부 데이터베이스에 연결하고 SQL Query를 작성, 그 결과를 Tag에 할당 할 수 있습니다.
Database 설정은 menu:기능 & 설정[Database] 에서 할 수 있습니다. **Database** 를 클릭하면 *Database 설정창* 이 나타납니다. 

image::images\21-10-13-1634109030.png[{70}]



[discrete]
=== 1. Database 설정
데이터베이스와 그 하위 쿼리를 트리형식으로 볼 수 있고 데이터베이스 서버와 쿼리를 추가, 수정, 삭제할 수 있습니다.

[horizontal]
{i_sPlus} 새 서버 추가::
새 데이터베이스 서버를 추가할 수 있는 서버 추가 창을 엽니다. 자세한 내용은 *'<<dataServerAdd>>'* 항목을 참고하십시오.


{i_pPlus} 새 쿼리 추가:: 
새로운 쿼리를 추가할 수 있는 '쿼리 추가' 창을 엽니다. 자세한 내용은 *'<<dataQAddWin>>'* 항목을 참고하십시오.


{i_edit} 서버/쿼리 수정:: 
리스트에 추가한 서버 또는 쿼리를 수정할 수 있는 '서버/쿼리 수정' 창을 엽니다. 리스트에서 서버 또는 쿼리를 선택 후 클릭하십시오.

{i_del} 서버/쿼리 삭제::
선택한 서버 또는 쿼리를 리스트에서 삭제합니다.


<<<


[discrete]
=== 2. 조건

[horizontal]
{i_plus} 새 조건 추가::
새 조건을 추가합니다. 새 조건 추가에 대한 자세한 내용은 *'<<addConditionWin>>'* 항목을 참조하십시오.

{i_edit} 조건 수정:: 추가한 조건을 수정합니다.

{i_del} 조건 삭제:: 추가한 조건을 삭제합니다.





[#dataServerAdd]
.서버 추가 창
====
[horizontal]
서버::: 서버의 이름을 입력합니다.
*설정 범위:* 문자, 숫자, 특수문자 (띄어쓰기 제외)

데이터베이스 종류::: 데이터베이스 종류를 설정합니다. 해당 항목을 선택하면 선택 가능한 리스트가 나타납니다. 데이터베이스의 종류에 따라 하위 설정 메뉴 항목이 상이합니다. *'<<databaseSubmenu>>'* 를 참고하여 해당 데이터베이스에 해당하는 값을 입력하십시오.
+
.설정 범위 (택 1)
* Microsoft SQL Server (초기값)
* MySQL, MariaDB
* ODBC
* Oracle
* PostgreSQL
* SQLite
* IBM DB2
* InterBase


동적 연결 사용::: 데이터베이스에 연결할 시점을 설정합니다.
+
.설정 범위
* 체크: 쿼리 실행 시 데이터베이스에 연결 후 실행합니다. 실행이 끝나면 데이터베이스와의 연결을 해제합니다.
* 체크 해제: SCADA 런타임 실행 시 데이터베이스에 연결합니다. 런타임이 종료되면 데이터베이스와의 연결을 해제합니다.


설명::: 데이터베이스와 관련된 설명을 입력합니다.
*설정 범위:* 숫자, 문자, 특수문자


연결 테스트::: 데이터베이스 서버에 연결 테스트를 진행합니다.
+
. image:images\21-10-14-1634168769.png[] btn:[연결 테스트] 를 클릭하면 데이터베이스 서버에 연결을 시도합니다.

. 연결에 성공했을 경우 아래의 팝업창이 표시됩니다.
+
image::images\21-10-14-1634169060.png[]

. 연결에 실패하면 아래의 팝업창이 표시됩니다.
+
image::images\21-10-14-1634169053.png[]

====



[#databaseSubmenu]
.데이터베이스 종류별 하위 설정 메뉴
====
[horizontal]
데이터 소스::  btn:[...] 를 클릭하여 '데이터 원본 관리자' 창을 열 수 있습니다. '데이터 원본 관리자' 창에서 해당 데이터베이스의 세부 사항을 확인할 수 있습니다.
*적용 데이터베이스:* ODBC

데이터베이스 파일:: 데이터베이스 파일의 경로를 확인할 수 있습니다. btn:[...] 를 클릭하여 '파일 열기' 창을 열 수 있습니다. 데이터베이스 파일을 선택하면 해당 경로가 입력됩니다. 또는 데이터베이스 파일 경로를 직접 입력할 수 있습니다. 
*적용 데이터베이스:* SQLite, InterBase

인증::
* *사용자/비밀번호:* 계정의 아이디/비밀번호를 입력하여 설정합니다.
*적용 데이터베이스:* Microsoft SQL Server, MySQL, Oracle, PostgreSQL, IBM DB2, InterBase

* *Windows 인증 사용:* 윈도우 운영체제의 인증을 사용합니다. 해당 항목 체크 시, 사용자/비밀번호 항목은 비활성화 됩니다. 
*적용 데이터베이스:* Microsoft SQL Server

HOST/IP:: 연결 URL 또는 IP 주소를 입력하여 설정합니다.
*적용 데이터베이스:* Microsoft SQL Server, MySQL, Oracle, PostgreSQL, IBM DB2, InterBase

PORT:: 연결 URL 또는 IP 주소를 입력하여 설정합니다.
*적용 데이터베이스:* MySQL (초기값: 3306), Oracle (초기값: 1521), PostgreSQL (초기값: 5432), IBM DB2 (초기값: 50000), InterBase (초기값: 3050)

데이터베이스:: 데이터베이스의 이름을 입력하여 설정합니다.
*설정 범위:* 숫자, 문자, 특수문자
*적용 데이터베이스:* Microsoft SQL Server, MySQL, Oracle, PostgreSQL, IBM DB2, InterBase

====








[#dataQAddWin]
.쿼리 추가 창
====
image::images\21-10-14-1634178990.png[]

[horizontal]
쿼리 이름:: 추가할 쿼리의 이름을 입력하여 설정합니다. 띄어쓰기는 불가능합니다.
쿼리 종류:: 추가할 쿼리의 종류를 체크하여 설정합니다.
+
.설정 범위
* Select: 데이터베이스의 태그에서 정의된 값을 조회합니다.
* Insert: 데이터베이스에 태그에서 정의된 값을 입력합니다.
* Update: 데이터베이스의 태그에서 정의된 값을 갱신합니다.
* 기타: Select, Insert, Update 쿼리가 아닌 쿼리문 작성 시 체크합니다.
+
[NOTE]
쿼리 종류별 동작 실행 방법에 대한 자세한 내용은 *'<<queryExecute>>'* 항목을 참고하십시오.

{i_tBinding} 태그 연결:: 쿼리에 사용할 태그를 연결할 수 있습니다. 클릭하면 '태그 연결 설정' 창이 열립니다. 자세한 내용은 *'<<tagConnectWin>>'* 항목을 참고하십시오.
*지원 쿼리 종류:* Select, Insert, Update

쿼리:: '태그 연결 설정' 에서 '쿼리 사용' 기능으로 가져올 쿼리를 입력합니다. '적용 쿼리 종류' 가 'Insert' 또는 'Update' 인 경우 '필드', 필드 종류', '태그/날짜', '태그 종류' 열이 표시되며 각 항목간 경계를 드래그하여 간격을 조절할 수 있습니다.
*입력값:* 데이터베이스 종류별 상이

Where:: '태그 연결 설정' 에서 '쿼리 사용' 기능으로 가져올 쿼리의 Where 구문을 입력합니다.
*지원 쿼리 종류:* Insert, Update
*입력값:* 데이터베이스 종류별 상이

태그:: 자주쓰는 태그를 리스트에 등록하고 사용하여 쿼리문 작성 시 태그값 입력을 편리하게 할 수 있습니다. 태그 리스트에 태그를 추가한 뒤 항목을 더블 클릭하면 자동으로 쿼리 입력에 추가됩니다.
+
* {i_plus} 태그 선택창 열기: 태그 항목의 리스트에 태그를 추가할 수 있는 '태그' 창을 엽니다. 원하는 태그를 선택하고 btn:[선택] 을 눌러 추가하십시오.
* {i_del} 태그 삭제: 선택한 태그를 리스트에서 삭제합니다.

설명:: 작성한 쿼리와 관련된 설명을 입력할 수 있습니다.
*설정 범위:* 숫자, 문자, 특수문자

SQL 실행:: 작성한 쿼리문이 정상적으로 실행되는지 테스트합니다. 태그에서 항목을 쿼리문에 추가한 경우 '테스트 쿼리에는 태그를 포함시킬 수 없습니다.' 라는 에러 팝업창이 나타나며 실행되지 않습니다. 테스트 쿼리가 정상 실행되면 실행 예상 속도를 표시합니다. (예: 7 ms)
*지원 쿼리 종류:* Select, 기타
====











[#tagConnectWin]
.태그 연결 설정 창
====
image::images\21-10-14-1634179912.png[]

[horizontal]
테이블::: 데이터베이스에서 필드 정보를 가져올 테이블 이름을 입력하여 설정합니다. 테이블 이름을 입력하고 {i_docPlus} 를 누르면 해당하는 필드를 가져와 아래 리스트에 표시합니다.
  image:images\21-10-14-1634192505.png[{50}]

쿼리 사용::: 작성한 쿼리문을 조회하여 그에 해당하는 필드 정보를 가져옵니다.
  image:images\21-10-14-1634192698.png[{50}]

{i_plus} 필드 데이터 추가::: 클릭하면 연결할 필드를 중앙의 리스트에 추가할 수 있습니다. 추가 후 각 항목을 선택하여 세부 사항을 설정할 수 있습니다.
+
--
[horizontal]
필드:::: 필드 이름을 입력합니다.
+
필드 종류:::: 필드 종류를 선택합니다.
*설정 범위 1:* Int, String, Bool, Double, Date, DateTime
*설정 범위 2:* Const, Tag, Date
--
+
[NOTE]
=====
필드 종류 설정 전 입력 규칙과 주의 사항을 확인하십시오. 자세한 내용은 *'<<fieldLimit>>'* 항목을 참고하십시오.
=====
+
{i_del} 필드 데이터 삭제::: 선택한 필드를 리스트에서 삭제합니다.
====



[#fieldLimit]
.필드 종류별 제한 사항과 설정 시 주의 사항
====
제한 사항::
+
* *필드 종류 설정 범위 2 - Const*
** Int/Const: 숫자 10자리 입력 가능
** String/Const: 숫자, 문자, 특수문자 입력 가능 (" ' 입력 불가)
** Bool/Const: 0, 1
** Double/Const: 숫자 (Double형 자릿수)
** Date/Const: String/Const 와 동일 (Date 형식 준수)
** DateTime/Const: String/Const 와 동일 (Date 형식 준수)
+
* **필드 종류 설정 범위 2 - Tag:** '태그' 창이 열려 태그를 선택할 수 있습니다.
** Int/Tag: Analog 태그만 표시
** String/Tag: String 태그만 표시 
** Bool/Tag: Digital 태그만 표시
** Double/Tag: Analog 태그만 표시 
** Date/Tag: String 태그만 표시 
** DateTime/Tag: String 태그만 표시 
+
* **필드 종류 설정 범위 2 - Date:** '날짜 설정' 창이 열려 날짜 형식을 선택할 수 있습니다.
** 모드: 날짜와 시간중 표시할 형식을 선택할 수 있습니다. (동시 선택 가능)
** 시간: 표시 시간 형식을 선택합니다. 12시간과 24시간 중에 선택할 수 있습니다.


주의 사항::
* 초기 값으로 Int와 Const가 선택되어 있습니다.
* 필드 종류가 Const일때는 고정값을 사용하여 데이터를 입력하십시오
* 태그 에디터에서 태그를 선택하면 해당 태그에 컬럼의 값을 가져오거나 해당 태그의 값으로 컬럼을 갱신, 삽입 합니다.
* 필드의 입력 정보가 하나라도 잘못된 경우, 쿼리가 동작하지 않거나 오동작할 수 있습니다.
* DataTime 형식에 한해서 직접 날짜 및 시간을 입력할 수 있습니다.
====





<<<




[#queryExecute]
.쿼리 종류별 데이터베이스 쿼리 동작
====
[horizontal]
.Select
. 데이터베이스에 서버를 추가하십시오.

. Select 문을 입력하십시오.
image:images\21-10-15-1634267658.png[{50}]
+
. 조건과 조건 만족 시 실행할 쿼리를 추가하십시오.
image:images\21-10-15-1634268191.png[{50}]
+
. 런타임을 실행하고 조건을 만족시켜 쿼리 동작을 실행시키십시오.

. 조건이 만족되면 해당 항목의 가장 마지막 행 값을 가져옵니다.
image:images\21-10-15-1634268098.png[{50}]


.Insert
. 데이터베이스에 서버를 추가하십시오.

. Insert 문을 입력하십시오.
image:images\21-10-15-1634268164.png[{50}]
+
. 조건과 조건 만족 시 실행할 쿼리를 추가하십시오.
image:images\21-10-15-1634268231.png[{50}]
+
. 런타임을 실행하고 조건을 만족시켜 쿼리 동작을 실행시키십시오.

. 조건이 만족되면 설정값을 입력합니다.
image:images\21-10-15-1634268239.png[{50}]


.Update
. 데이터베이스에 서버를 추가하십시오.

. Update 문을 입력하십시오.
image:images\21-10-15-1634268289.png[{50}]
+
. 조건과 조건 만족 시 실행할 쿼리를 추가하십시오.
image:images\21-10-15-1634268295.png[{50}]
+
. 런타임을 실행하고 조건을 만족시켜 쿼리 동작을 실행시키십시오.

. 조건이 만족되면 설정값을 갱신합니다.
image:images\21-10-15-1634268239.png[{50}]


.Other (Delete)

. 데이터베이스에 서버를 추가하십시오.

. Other (Delete) 문을 입력하십시오.
image:images\21-10-15-1634272384.png[{50}]
+
. 조건과 조건 만족 시 실행할 쿼리를 추가하십시오.
image:images\21-10-15-1634272391.png[{50}]
+
. 런타임을 실행하고 조건을 만족시켜 쿼리 동작을 실행시키십시오.

. 조건이 만족되면 설정값을 삭제합니다.
image:images\21-10-15-1634272399.png[{50}]

====


<<<



[#addConditionWin]
.조건 추가 창
====

image::images\21-10-15-1634259604.png[]

[horizontal]
조건::: 조건 이름을 입력하여 설정합니다. 이름이 중복되거나 공백일 경우 조건이 생성되지 않습니다.

사용 여부::: 
* 체크: 추가한 조건을 만족할 경우 선택한 쿼리를 실행합니다.
* 체크 안함: 조건을 만족해도 쿼리가 실행되지 않습니다.

논리::: 등록한 조건들에 대한 동작 논리를 설정합니다.
+
.설정 범위
* And: 모든 조건이 만족할 경우 동작합니다.
* Or: 한가지 조건만 만족해도 동작합니다.

{i_plus} 조건 추가::: 조건을 추가합니다.
*설정 범위:* 비트 트리거, 논리 비교, 논리 연산, 산술 연산, 일정, 타이머
+
[NOTE]
=====
각 조건 별 자세한 내용은 *<<link_condition>>* 항목을 참고하십시오.
=====

↑ 위로 이동::: 선택된 조건을 리스트에서 위로 올립니다.

↓ 아래로 이동::: 선택된 조건을 리스트에서 아래로 내립니다.
+
[NOTE]
조건은 리스트 기준 위에서 아래로 순차 실행됩니다.

쿼리::: 설정된 조건 만족 시 실행할 쿼리 항목을 아래 리스트에 표시합니다.
+
[horizontal]
{i_pPlus} 선택창 열기:::: 기존에 생성된 데이터베이스 서버별 쿼리를 조건 쿼리에 추가할 수 있는 '쿼리 선택' 창을 엽니다. 추가할 항목을 선택 후 btn:[선택] 을 클릭하여 추가하십시오.

{i_del} 삭제:::: 선택한 쿼리를 리스트에서 삭제합니다.

====





<<<


=== 데이터베이스 설정 시 주의 사항

. 테이블 또는 필드 이름 생성 시 + - * / @ % , . ( ) [ ] 와 같은 특수 문자 사용을 자제하십시오. 데이터베이스별 시스템 예약어로 인한 에러 발생 위험이 있습니다. 특수 문자를 사용해야할 경우 _ (언더바) 를 포함하십시오.
+
[NOTE]
데이터베이스별 시스템 예약어는 해당 개발사 기술 자료를 확인하십시오.

. 테이블 또는 필드 이름 생성 시 데이터베이스 시스템 예약어를 단독으로 사용하지 마십시오. 만약 사용해야할 경우 '예약어_1' 과 같은 형태로 다른 단어를 합성하여 사용하십시오.

. 데이터베이스에 영어 이외의 다른 언어를 사용 시 테이블 또는 스키마에 언어를 설정하십시오. 스카다와 통신 과정에서 인코딩 에러가 발생할 위험이 있습니다.

. 데이터베이스의 필드가 NOT NULL 일때 Insert 구문 입력 시 반드시 필드를 추가해야 하며, 데이터베이스의 필드가 PK로 설정되어 있을때 Insert 구문 입력 시 기존 값과 다른 값을 입력하십시오. auto increment 로 설정된 필드는 태그 연결 창에서 필드를 삭제 하십시오.

. String 태그에 DateTime 형태의 값을 입력하여 데이터베이스에 Insert 또는 Update 할 때 DateTime의 형태가 데이터베이스에서 지원하는 형식인지 확인하십시오.

[NOTE]
데이터베이스별 세부 사항은 각 데이터베이스 매뉴얼을 참고하십시오.


<<<


[#link_MQTT]
== MQTT
MQTT (Message Queuing Telemetry Transport) 는 제한된 통신 환경을 고려하여 최소한의 전력과 패킷량으로 통신이 가능하도록 디자인된 프로토콜입니다. 사물통신 (M2M: Machine To Machine), 사물인터넷 (IoT: Internet of Things) 에 최적화되어 있습니다.
MQTT는 HTTP, TCP등의 기존 통신과 같은 '클라이언트 - 서버' 구조가아닌, '브로커 (Broker), Publisher, Subscriber' 구조로 이루어집니다.

image:images\21-10-15-1634276750.png[{70}]

Publisher는 Topic을 발행 (publish) 하고, Subscriber는 Topic에 구독 (subscribe) 하며, Broker는 이들을 중계하는 역할을 합니다. 단일 Topic에 여러 Subscriber가 구독할 수 있기 때문에 1:N 통신 구축에 유용합니다.



=== Mosquitto (MQTT 메시지 브로커)

Mosquitto는 MQTT 오픈소스 메시지 브로커 프로그램입니다. 시스템 자원을 적게 사용하며, 대부분의 MQTT 필수 기능을 지원합니다.


==== 설치 및 테스트 (운영체제: Windows)

.설치 방법
. Mosquitto 제작사 웹사이트 (http://mosquitto.org) 에서 설치 파일을 다운로드한 후 설치하십시오.
. 설치 폴더 내의 아래 실행 파일들을 확인하십시오.
+
* mosquitto.exe (Mosquitto Server/Broker)
* mosquitto_sub.exe (Mosquitto client for subscribe)
* mosquitto_put.exe (Mosquitto client for publish)
+
<<<
+
. '명령 프롬프트' 를 실행하고 프로그램이 설치된 경로로 이동하십시오. 이후 아래의 명령어를 입력하고 Topic 출력을 확인하십시오.
+
--
* 명령어
  mosquitto_sub -h test.mosquitto.org -t "#" -v
--
+
--
* Topic 출력
  image:images\1637539411.png[{60}]
--


==== 서비스 중지 설정 (운영체제: Windows)

Mosquitto 서비스가 부팅 시에 자동으로 실행됩니다. 해당 서비스가 동작중이면 수동으로 실행시킨 서버가 동작하지 않으므로 아래 내용을 참고하여 서비스를 중지하십시오.

.설정 방법
. '제어판 - 관리도구 - 서비스' 창의 'Mosquitto Broker' 항목을 더블클릭하여 ‘Mosquitto Broker 속성’ 창을 여십시오.
image:images\1637541240.png[{60}]
+
<<<
+
. '일반' 탭의 '시작 유형' 항목을 '수동'으로, '서비스 상태' 항목을 '중지'로 변경하십시오.
image:images\1637541485.png[{50}]

<<<

==== 실행 (운영체제: Windows)

'명령 프롬프트' 를 관리자 모드로 실행하고 설치 폴더로 이동하여 실행할 각 기능에 해당하는 명령어를 입력하십시오.

[horizontal]
서버 (mosquitto)::

* *명령어*
  mosquitto -v

* *실행 화면*
  image:images\1637545968.png[]


발행 (mosquitto_pub)::

* *명령어* 
  mosquitto_pub -h [실행 서버] -i [클라이언트 ID] -t debug -m "[발행 메세지]"
  (예: mosquitto_pub -h localhost -i testPub -t debug -m "Test message")


구독 (mosquitto_sub)::

* *명령어*
  mosquitto_sub -h [실행 서버] -i [클라이언트 ID] -t /[구독 토픽명]
  (예: mosquitto_sub -h localhost -i testSub -t /testTopic)

[NOTE]
보다 자세한 명령어 및 사용법은 해당 제작사의 웹사이트 (http://mosquitto.org) 를 참고하십시오.


<<<

=== MQTT 설정
MQTT 설정은 menu:기능 & 설정[MQTT] 에서 할 수 있습니다. **MQTT** 를 클릭하면 *MQTT 설정창* 이 나타납니다. 

image:images\1637277125.png[]

[discrete]
==== 1. 연결

[horizontal]
{i_plus} 노드 추가:: 새로운 MQTT 설정 정보 노드 (Connection) 를 생성합니다.

{i_rename} 노드 이름 변경:: 선택된 노드 (Connection) 의 이름을 변경합니다.

{i_del} 노드 삭제:: 선택된 노드 (Connection) 를 삭제합니다.

접속 테스트:: 리스트에서 선택한 연결 항목의 접속 가능 여부를 확인합니다.


[discrete]
==== 2. 설정

[horizontal]
MQTT Client ID:: 브로커 서버에 연결될 클라이언트의 고유 ID를 입력하여 설정합니다. 노드 추가 시 임의의 값으로 자동 설정되며 변경할 수 있습니다.

Host:: 브로커 서버의 주소를 입력하여 설정합니다.
*설정 범위:* 아이피 주소 (예: 52.28.83.102), 도메인 주소 (예: mqtt-dashboard.com)

포트:: 브로커 서버의 포트를 입력하여 설정합니다.
*설정 범위:* 1 ~ 65535

세션 초기화:: 브로커 서버와의 연결 해제 후 다시 연결된 경우, 이전 세션의 유지 또는 삭제 여부를 선택합니다.
+
.설정 범위 
* 0: 이전 세션 유지 (기본값)
  브로커는 클라이언트와 연결이 끊긴 경우에도 기존 세션의 설정 (발행, 구독) 을 유지합니다. 
* 1: 이전 세션 삭제
  브로커는 자동으로 새 세션을 작성합니다. 연결이 끊어지면 작성된 세션의 설정(발행, 구독) 도 제거됩니다.

사용자:: 브로커 서버 접속에 사용할 사용자 아이디를 입력하여 설정합니다.

비밀번호:: 브로커 서버에 접속에 사용할 사용자 비밀번호를 입력하여 설정합니다.

{i_topicPlus} Topic 추가:: 'Topic' 추가 창을 엽니다.
+
[NOTE]
'Topic' 추가 창에 대한 자세한 내용은 *'<<topicAdd>>'* 항목을 참고하십시오.

{i_trans} 태그 추가:: Topic 에 추가될 태그 또는 메세지를 추가합니다. 'Topic' 창의 '전송 데이터 종류' 항목의 선택 값에 따라 '태그' 선택창 또는 '메세지' 입력창이 열립니다.
+
[NOTE]
'Topic' 태그 추가 방법은 *'<<topicTagAdd>>'* 항목을 참고하십시오.


{i_edit} Topic 수정:: 리스트에서 선택한 Topic의 설정창을 열고 기존 설정값을 수정할 수 있습니다.

{i_del} Topic 지우기:: 리스트에서 선택한 Topic을 삭제합니다.

업데이트:: 설정한 MQTT 정보를 업데이트하여 저장합니다.


<<<

[#topicAdd]
.Topic 추가 창
====
[horizontal]
Topic 이름:: Topic 이름을 입력하여 설정합니다.

카테고리:: 현 Topic의 발행/수신 여부를 선택합니다.
+
.설정 범위
* Publisher: 설정한 데이터를 브로커로 전송 (발행)
* Subscribe: 설정한 데이터를 브로커에서 수신 (구독), '카테고리'를 'Subscribe' 로 설정한 경우 'QoS' 와 '데이터 포멧 형식' 만 설정 가능합니다.

QoS:: 서비스 품질을 설정합니다. 브로커 서버에서 해당 기능을 지원해야 사용할 수 있습니다.
+
.설정 범위
* 0: 메시지를 한번 보내고 전송이 실패하더라도 그 상태로 종료합니다. 브로커 서버에 저장되지 않으며 QoS를 보장하지 않습니다. 가장 빠른 전송 모드입니다. (초기값)
* 1: 메세지를 최소 한번 이상 전달하지만, 메세지의 수신 확인을 하지 않기때문에 중복 전송의 가능성이 있습니다. 기본 전송 모드입니다.
* 2: 메세지의 수신 확인 과정을 거쳐 정확히 1번만 전달합니다. 가장 안전하지만 느린 전송 모드입니다.

Retain:: 브로커 서버에 전송한 데이터의 저장 여부를 지정합니다.
+
.설정 범위
* 0: 브로커 서버에 전송한 데이터를 저장하지 않습니다. (기본값)
* 1: 마지막 데이터를 브로커 서버에 저장하여 구독 접속 시 가장 최근 데이터를 받을 수 있습니다.

전송 데이터 종류::
+
.설정 범위
* Tag: 태그 데이터를 전송합니다.
* Message: 메세지를 전송합니다. 해당 값으로 설정 시 {i_trans} btn:[태그 추가] 를 클릭하면 '태그' 창이 아닌 '메시지' 창이 열리며 원하는 메시지를 입력하여 설정할 수 있습니다.

모니터링::
+
.설정 범위
* Monitoring: Runtime이 동작하는 동안 자동으로 데이터를 전송합니다.
* Action: 공통 Action 기능으로 데이터를 전송합니다.

주기 (msec):: 데이터 송/수신 시간 간격을 설정합니다.
              *설정 범위:* 50 ~ 99999 msec

데이터 포멧 형식:: 데이터 전송 형식을 설정합니다. '전송 데이터 종류'가 'Tag' 일때만 나타납니다.
+
.설정 범위
* RAW: 사용자가 지정한 구분자 (구분자 초기값: ,) 를 사용한 형식으로 태그 데이터를 전송합니다.
* XML: XML 형식으로 태그 데이터를 전송합니다.
* JSON: JSON 형식으로 태그 데이터를 전송합니다.
====


[#topicTagAdd]
.Topic 태그 추가 방법
====
. 리스트에서 태그를 추가할 Topic을 선택한 뒤 '태그 추가' 를 클릭하십시오.
. '태그' 창이 열리면 리스트에 원하는 태그를 선택한 뒤 btn:[확인] 을 클릭하십시오.
. '키값' 창이 열리면 키값 항목에서 태그의 포멧 형식을 지정할 수 있습니다. 포멧 형식을 지정하고자 하는 태그의 왼쪽 체크박스를 체크 하면, 편집 기능 활성화되며 오른쪽의 키값 항목에서 포멧 형식을 지정할 수 있습니다. 체크하지 않으면 편집 기능이 비활성화 되고 데이터를 기본 포멧 형식 (tag.name = tag.value)으로 전송합니다.
+
* '태그 이름: New_tag1', '태그 값: 10', 포멧 형식: 기본값 (tag.name = tag.value) => 전송 데이터: 'New_tag1=10'

* '태그 이름: New_tag1', '태그 값: 10', ‘날짜: 2022.12.09’, ‘시간: 14:00:30’
+
[cols="1h, 4, 4", options="header",frame=topbot]
|===
|포멧 형식	|키값 설정	|실제 전송 데이터
|RAW	
|tag.date + tag.time + tag.name=tag.value	
|2022.12.09 14:00:30 New_tag1=10
|XML	
|<tag>
<tagDate>tag.date </ tagDate >
<tagTime>tag.time </ tagTime >
<tagName>tag.name </tagName>
<tagValue>tag.value </tagValue>
</tag>	
|<tag>
<tagDate>2022.12.09</ tagDate >
<tagTime>14:00:30</ tagTime >
<tagName> New_tag1</tagName>
<tagValue>10</tagValue>
</tag>
|JSON	
|{
"tagDate":"tag.date",
"tagTime":"tag.time",
"tagName":"tag.name", 
"tagValue" : "tag.value"
}	
|{
"tagDate":"2022.12.09",
"tagTime":"14:00:30",
"tagName":" New_tag1", 
"tagValue" : "10"
}
|===
+
<<<
+
. 태그가 여러 개일 경우 '개별 송신' 항목 체크 시, 복수의 태그 데이터를 각각 전송합니다. 
+
* ‘태그 이름: New_tag1’, ‘태그 값: 10’, ‘태그 이름: New_tag2’, ‘태그 값: 100’ , 포멧 형식: 기본값 (tag.name=tag.value)
+
** ‘개별 송신’ 항목 체크
+
[cols="1h, 4, 4", options="header",frame=topbot]
|===
|포멧 형식	|키값 설정	|실제 전송 데이터
|RAW	
|tag.name=tag.value	
|New_tag1=10
New_tag2=100
|XML
|tag.name=tag.value	<tag>
<tagName> New_tag1</tagName>
<tagValue>10</tagValue>
</tag>
|<tag>
<tagName> New_tag2</tagName>
<tagValue>100</tagValue>
</tag>
|JSON
|tag.name=tag.value	
|{"tagName" : "New_tag1", "tagValue" : "10"}
{"tagName" : "New_tag2", "tagValue" : "100"}
|===
+
** ‘개별 송신’ 항목 체크 안함
+
[cols="1h, 3, 5", options="header",frame=topbot]
|===
|포멧 형식	|키값 설정	|실제 전송 데이터
|RAW	|tag.name=tag.value	|New_tag1=10, New_tag2=100
|XML	|tag.name=tag.value	
|<tagList> 
<tag>
<tagName>New_tag1</tagName> <tagValue>10</tagValue> 
</tag> 
<tag>
<tagName>New_tag2</tagName> <tagValue>100</tagValue> 
</tag> 
</tagList>
|JSON	|tag.name=tag.value	|{"tagList":[{"tagName":"Tag_0001", "tagValue":"0"}, {"tagName":"Tag_0002", "tagValue":"0"}]}
|===	


[NOTE]
=====
태그에 대한 자세한 내용은 *<<linkTag>>* 항목을 참고하십시오.
=====

====







<<<



[#link_message]
== 메시지
SMS와 E-mail 기능을 사용하기 위해 관련 항목을 설정할 수 있습니다.
메시지 설정은 menu:기능 & 설정[메시지] 에서 할 수 있습니다. **메시지** 를 클릭하면 *메시지 설정창* 이 나타납니다.
메시지 설정창 상단의 '주소', 'SMS', 'E-Mail' 선택 탭을 통해 각 항목에 대한 설정창 전환을 할 수 있습니다.



=== 주소
SMS와 E-mail을 보내기 위한 수신자 주소를 추가하고 그룹으로 관리할 수 있습니다.  

image::images\1637719956.png[{50}]


[#addressGroup]
[discrete]
==== 1. 주소 그룹

[horizontal]
{i_plus} 주소 그룹 추가:: 새 수신자 주소 그룹을 추가합니다.

{i_edit} 주소 그룹 이름 바꾸기:: 리스트에서 선택한 수신자 주소 그룹의 이름을 변경합니다.

{i_del} 주소 그룹 삭제:: 리스트에서 선택한 수신자 주소 그룹을 삭제합니다.

주소 리스트:: 추가한 주소 그룹을 리스트로 표시합니다.


[discrete]
==== 2. 주소 그룹 항목
'주소 리스트' 에서 추가한 주소 그룹을 선택하면 해당 그룹에 새 수신자 주소를 추가하고 수신자 리스트를 확인할 수 있습니다.

[horizontal]
{i_plus} 주소 추가:: 새 수신자 주소를 추가합니다. 클릭하면 리스트에 새 주소 항목을 생성합니다. 수신자의 이름, 전화번호, 이메일 주소, 해당 항목에 대한 설명을 입력할 수 있습니다.
[]


<<<


=== SMS
외부 문자 서비스를 이용하여 SMS 메시지를 보낼 수 있습니다. SMS 메시지 발송 기능은 외부 업체 (너나우리) 서비스에 가입 후 사용할 수 있습니다. 서비스 가입과 관련된 자세한 내용은 웹사이트 https://www.nunauri.com/ 를 참고하십시오.

image::images\1637720092.png[{50}]


[discrete]
==== 1. SMS 리스트

[horizontal]
{i_plus} 추가::: SMS 메시지 항목을 리스트에 추가합니다. 사전에 여러 메시지 항목들을 등록할 수 있습니다.

{i_edit} 이름 바꾸기::: 리스트에 추가한 SMS 메시지 항목의 이름을 수정합니다.

{i_del} 삭제::: 리스트에 추가한 SMS 메시지 항목을 삭제합니다.

SMS 설정::: 리스트에 추가한 SMS 메시지 항목의 설정을 변경할 수 있는 'SMS 설정' 창을 엽니다. 대한 자세한 내용은 *'<<smsSetting>>'* 을 참조하십시오.



[discrete]
==== 2. SMS 메시지 등록

* *SMS:* 'SMS 리스트' 에서 추가한 SMS 메시지 항목의 이름을 표시합니다.
* *종류:* 작성할 메시지의 종류를 선택합니다. 이후 아래 메시지 입력칸에 내용을 입력할 수 있습니다. (단문: 90 Byte, 장문: 2000 Byte)
  *설정 범위:* SMS (단문) / LMS (장문)
* *설명:* 해당 메시지에 대한 설명을 입력합니다. 내용은 발송되지 않습니다.
* *테스트:* 시험 발송을 위한 번호를 입력합니다. 입력 후 btn:[SMS 발송] 을 클릭하여 정상 발신 여부를 확인할 수 있습니다.

<<<

[discrete]
==== 3. 태그

[horizontal]
{i_plus} 추가::: SMS 메시지와 함께 전달할 태그 값을 추가할 수 있는 '태그' 선택 창을 엽니다.
{i_del} 삭제::: 리스트에서 선택한 태그를 삭제합니다.





=== E-mail 설정

E-mail 메시지 내용을 작성 하고 추가 및 관리할 수 있습니다.

image::images\1637721696.png[]

[discrete]
==== 1. E-mail 리스트

[horizontal]
{i_plus} 추가:: E-mail 메시지 항목을 리스트에 추가합니다. 사전에 여러 메시지 항목들을 등록할 수 있습니다.

{i_edit} 이름 변경:: 리스트에 추가한 E-mail 메시지 항목의 이름을 수정합니다.

{i_del} 삭제:: 리스트에 추가한 E-mail 메시지 항목을 삭제합니다.

E-mail 설정:: 리스트에 추가한 E-mail 메시지 항목의 설정을 변경할 수 있는 'E-mail 설정' 창을 엽니다. 자세한 내용은 *'<<emailSettingWin>>'* 항목을 확인하십시오.



[discrete]
==== 2. E-mail 메시지 등록

[horizontal]
E-mail::: 'E-mail 리스트' 에서 추가한 E-mail 메시지 항목의 이름을 표시합니다.

설명::: 해당 메시지에 대한 설명을 입력합니다. 내용은 발송되지 않습니다.

테스트::: 시험 발송을 위한 E-mail 주소를 입력합니다. 입력 후 btn:[E-mail 발송] 을 클릭하여 정상 발신 여부를 확인할 수 있습니다.


[discrete]
==== 3. 태그

[horizontal]
{i_plus} 추가::: E-mail 메시지와 함께 전달할 태그 값을 추가할 수 있는 '태그' 선택 창을 엽니다.
{i_del} 삭제::: 리스트에서 선택한 태그를 삭제합니다.



[#smsSetting]
.SMS 설정 창
====
[horizontal]
너나우리::: SMS 서비스를 제공하는 외부 업체의 홈페이지 주소 링크입니다. 회원 가입 후 서비스를 이용할 수 있습니다.
ID::: 너나우리 서비스의 아이디를 입력합니다.
비밀번호::: 너나우리 서비스의 비밀번호를 입력합니다.
잔여량:::
* SMS: 단문 메시지의 잔여량을 표시합니다.
* LMS: 장문 메시지의 잔여량을 표시합니다.
* 조회: SMS/LMS 잔여량을 갱신 합니다.
발신자::: 보내는 사람의 전화번호를 입력하여 설정합니다.
====



[#emailSettingWin]
.E-mail 설정 창
====
[horizontal]
SMTP 서버:::
* Host: E-mail 발송을 위한 SMTP (Simple Mail Transfer Protocol) 서버의 Host 주소를 입력합니다.
* 포트: SMTP 서버의 포트 번호를 입력합니다.

사용자:::
* ID: E-mail 발송에 사용할 계정의 사용자 아이디를 입력합니다.
* 비밀번호: E-mail 발송에 사용할 계정의 사용자 비밀번호를 입력합니다.

보안::: 보안 방식을 선택합니다.
*설정 범위:* 보안 없음, SSL, TLS/STARTTLS (기본값)

발신자::: 발신자의 E-mail 주소를 입력합니다.

====